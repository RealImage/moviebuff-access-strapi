"use strict";(self.webpackChunkmoviebuff_audio_backend=self.webpackChunkmoviebuff_audio_backend||[]).push([[1057],{21057:(j,d,a)=>{a.r(d),a.d(d,{default:()=>m});var o=a(92132),p=a(21272),r=a(17703),u=a(15458),b=a(86989),l=a(41629);const h=()=>{const[f,s]=(0,p.useState)(""),x="https://uat-moviebuff-audio.moviebuff.com/api/custom-list-csv",v="https://uat-moviebuff-audio.moviebuff.com/api/device-session-list-csv",y=async()=>{s("Exporting theatres...");try{const e=await l.A.get(x,{headers:{Authorization:"Bearer c84000cefcf29db3dcb3da3dc94ee03f924245627b51238e3bbe94e6df700d31de34803286724f9f1c02c1a6fc66e46d749a2a9db3f581d23d7ef5a51176e4911359a56588289f3a459441472b96570a1c1d05045782b5f9345a5c57defd31e86db8c86415ff41a1e3a91ac503cb87e1af7c109eab3eeb7c3beaef3ea560910a"},responseType:"blob"}),c=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=c;const i=`Theatre-Export-${new Date().toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","").replace(/\//g,"-").replace(/:/g,"-").replace(" ","_")}.csv`;t.setAttribute("download",i),document.body.appendChild(t),t.click(),t.remove(),console.log("Theatres exported:",e.data),s("Theatres exported successfully!")}catch(e){console.error("Error exporting theatres:",e),s(`Error exporting theatres. Please try again. ${e}`)}},D=async()=>{s("Exporting Device sessions...");try{const e=await l.A.get(v,{headers:{Authorization:"Bearer c84000cefcf29db3dcb3da3dc94ee03f924245627b51238e3bbe94e6df700d31de34803286724f9f1c02c1a6fc66e46d749a2a9db3f581d23d7ef5a51176e4911359a56588289f3a459441472b96570a1c1d05045782b5f9345a5c57defd31e86db8c86415ff41a1e3a91ac503cb87e1af7c109eab3eeb7c3beaef3ea560910a"},responseType:"blob"}),c=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=c;const i=`Device-Session-Export-${new Date().toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","").replace(/\//g,"-").replace(/:/g,"-").replace(" ","_")}.csv`;t.setAttribute("download",i),document.body.appendChild(t),t.click(),t.remove(),console.log("Device sessions exported:",e.data),s("Device sessions exported successfully!")}catch(e){console.error("Error exporting Device sessions:",e),s(`Error exporting Device sessions. Please try again. ${e}`)}};return(0,o.jsxs)("div",{style:n.container,children:[(0,o.jsx)("h1",{style:n.heading,children:"Dashboard"}),(0,o.jsx)("button",{style:n.button,onClick:y,children:"Export Theatres"}),(0,o.jsx)("button",{style:n.button,onClick:D,children:"Export Device Sessions"}),f&&(0,o.jsx)("p",{style:n.message,children:f})]})},n={container:{fontFamily:"Arial, sans-serif",margin:"0",padding:"0",backgroundColor:"rgb(33, 33, 52)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},heading:{marginBottom:"20px",color:"white"},message:{marginTop:"revert",color:"white"},button:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",margin:"10px",borderRadius:"5px",cursor:"pointer",fontSize:"16px"}},g=h,m=()=>(0,o.jsx)("div",{children:(0,o.jsxs)(r.dO,{children:[(0,o.jsx)(r.qh,{path:`/plugins/${b.A}`,component:g,exact:!0}),(0,o.jsx)(r.qh,{component:u.hH})]})})}}]);
